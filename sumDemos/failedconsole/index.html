<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>failedConsole</title>
    <link rel="stylesheet" href="css/demo01.css">
    <script src="js/jquery.min.js"></script>
</head>
<body>
<div class="main">
    <!--<p><span class="progress_one"></span><span class="progress_btn">投票</span><span class="progress_number">1%</span></p>-->
    <ul class="progress_parent">
        <li>
            <p>
                <span class="progress_bgcolor" id="changeColorItem"></span>
                <span class="progress_number" id="changeNumberItem">1%</span>
            </p>
            <span class="progress_btn" id="changeBtnItem">投票</span>
        </li>
    </ul>
</div>
<script>
    var elem={
        changeColorItem:null,
        changeNumberItem:null,
        changeBtnItem:null,
        timer:null,
        index:0,
        itemWidth:null,
        itemText:0,
        init:function(){
            this.changeColorItem=document.getElementById("changeColorItem");
            this.changeNumberItem=document.getElementById("changeNumberItem");
            this.changeBtnItem=document.getElementById("changeBtnItem");
            elem.timer=setInterval(function(){
                elem.index+=1;
                elem.changeColorFn();
                elem.changeTextFn();
                if(elem.index>=80){
                    clearInterval(elem.timer);
                }
            },100);
        },
        changeColorFn:function(){
            elem.itemWidth+=1;
            elem.changeColorItem.style.width=elem.itemWidth+"%";
        },
        changeTextFn:function(){
            elem.itemText+=1;
            document.getElementById("changeNumberItem").innerHTML=elem.itemText+"%";
        },
        //屏蔽查看源码
        failedConsole:function(){
            document.onkeydown=function(){
                var e=window.event||arguments[0];
                if(e.keyCode==123){
                    alert("小样你想干嘛？");
                    return false;
                }else if((e.ctrlKey)&&(e.shiftKey)&&(e.keyCode==73)){
                    alert("还是不给你看。。");
                    return false;
                }else if((e.ctrlKey)&&(e.keyCode==85)){
                    alert("还是算了吧……^_^");
                    return false;
                }
            };
            document.oncontextmenu=function(){
                alert("小样不给你看");
                return false;
            };
        }
    };
    window.onload=function(){
        elem.init();
        elem.failedConsole();
    }
</script>
</body>
</html>